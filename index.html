<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>êµìœ¡í›ˆë ¨ ì ìˆ˜ ì¢…í•© ì‹œìŠ¤í…œ</title>
    <style>
        :root { 
            --primary: #2c3e50; 
            --accent: #27ae60; 
            --bg-color: #f1f3f5;
            --disabled: #e9ecef;
            --danger: #e74c3c;
            --gold: #f39c12;
            --active-row: #f0f9ff;
            --score-low: #ff7f50;
            --score-high: #2ecc71;
            --blue: #3498db;
        }

        html, body { 
            margin: 0; padding: 0; width: 100%; overflow-x: hidden; 
            font-family: 'Pretendard', -apple-system, sans-serif; 
            background-color: var(--bg-color); color: var(--primary);
            display: flex; flex-direction: column; min-height: 100vh;
        }

        .container { 
            width: 95%; max-width: 720px; margin: 15px auto; 
            background: white; border-radius: 20px; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            flex: 1; box-sizing: border-box;
            display: flex; flex-direction: column;
        }

        .top-header {
            padding: 25px 12px; border-bottom: 2px solid #f8f9fa;
            display: flex; flex-direction: column; align-items: center;
        }

        .title-area {
            display: flex; align-items: center; gap: 10px; margin-bottom: 20px;
            width: 100%; justify-content: center;
        }

        .top-logo {
            width: 55px; height: 55px;
            background-color: var(--primary);
            display: flex; align-items: center; justify-content: center;
            border-radius: 12px; border: 1px solid #ddd; flex-shrink: 0;
            font-size: 1.8rem;
        }

        h1 { 
            margin: 0; font-size: 1.8rem; font-weight: 900; 
            letter-spacing: -1px; color: #1a202c; white-space: nowrap;
        }

        .result-summary { 
            width: 100%; max-width: 400px; background: var(--primary);
            padding: 20px; border-radius: 16px; color: white; text-align: center;
            box-sizing: border-box;
        }
        .total-label { font-size: 0.9rem; opacity: 0.8; margin-bottom: 5px; }
        .total-score { font-size: 3.5rem; font-weight: 900; color: var(--score-low); margin: 0; line-height: 1; transition: color 0.4s; }
        .total-max { font-size: 0.85rem; opacity: 0.7; margin-top: 8px; }
        
        .progress-container {
            width: 100%; background: rgba(255,255,255,0.2); 
            height: 8px; border-radius: 10px; margin-top: 15px; overflow: hidden;
        }
        .progress-bar { width: 0%; height: 100%; background: var(--score-low); transition: width 0.5s, background 0.4s; }

        .content-area { padding: 20px 8px; box-sizing: border-box; }
        
        .section-title {
            font-size: 1.1rem; font-weight: 800; margin: 25px 0 10px 5px;
            display: flex; align-items: center; gap: 8px; color: #2d3436;
        }

        .table-wrapper { 
            width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch;
            border: 1px solid #eee; border-radius: 14px; background: #fff;
        }

        table { width: 100%; border-collapse: collapse; min-width: 500px; }
        th { background: #fbfbfc; padding: 12px 5px; font-size: 0.85rem; font-weight: 600; border-bottom: 2px solid #edf2f7; color: #64748b; }
        td { padding: 10px 4px; border-bottom: 1px solid #f1f5f9; text-align: center; }
        
        .score-input, .grade-select { 
            height: 40px; padding: 0 5px; border: 2px solid #e2e8f0; 
            border-radius: 8px; text-align: center; font-size: 0.9rem;
            box-sizing: border-box; width: 100%; max-width: 100px;
        }

        .grade-badge { 
            display: inline-block; padding: 4px 8px; border-radius: 6px; 
            font-weight: 800; color: white; font-size: 0.75rem; background: #94a3b8;
        }
        .grade-íŠ¹ê¸‰ { background-color: var(--gold); }
        .grade-3ê¸‰ë¯¸ë§Œ, .grade-ë¶ˆí•©ê²© { background-color: var(--danger); }
        .grade-1ê¸‰, .grade-2ê¸‰, .grade-3ê¸‰ { background-color: #34495e; }

        .physical-calc-card {
            margin-top: 20px; padding: 20px; border: 2px solid var(--blue);
            border-radius: 16px; background-color: #f0f7ff;
        }

        .physical-result-bar {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed var(--blue);
        }

        .info-card { 
            margin-top: 20px; padding: 15px; background: #f8fafc;
            border: 1px solid #e2e8f0; color: #475569; border-radius: 14px;
            font-size: 0.85rem; line-height: 1.6;
        }

        .action-area { padding: 20px 10px 40px; display: flex; justify-content: center; }
        .reset-btn {
            background-color: #f1f2f6; color: #7f8c8d; border: none;
            padding: 12px 30px; border-radius: 10px; font-weight: 700; cursor: pointer;
        }

        footer { text-align: center; padding: 25px; font-size: 0.8rem; color: #94a3b8; background: #f1f5f9; }

        @media (max-width: 480px) {
            h1 { font-size: 1.5rem; }
            .total-score { font-size: 3rem; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="top-header">
        <div class="title-area">
            <div class="top-logo">ğŸ–ï¸</div>
            <h1>êµìœ¡í›ˆë ¨ ì ìˆ˜ ì¢…í•©</h1>
        </div>
        
        <div class="result-summary">
            <div class="total-label">êµìœ¡í›ˆë ¨ í™˜ì‚° ì´ì </div>
            <div id="totalDisplay" class="total-score">0.00</div>
            <div class="total-max">/ 70.00 ì </div>
            <div class="progress-container">
                <div id="progressBar" class="progress-bar"></div>
            </div>
        </div>
    </div>

    <div class="content-area">
        <div class="section-title">ğŸ“Š ê³¼ëª©ë³„ ì ìˆ˜ ì…ë ¥</div>
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th style="width: 25%;">ê³¼ëª©ëª…</th>
                        <th style="width: 25%;">ì ìˆ˜ ì…ë ¥</th>
                        <th style="width: 25%;">ë“±ê¸‰ íŒì •</th>
                        <th style="width: 25%;">í™˜ì‚°ì ìˆ˜</th>
                    </tr>
                </thead>
                <tbody id="scoreTableBody"></tbody>
            </table>
        </div>

        <div class="section-title">ğŸƒ ê¸°ì´ˆì²´ë ¥ ì„¸ë¶€ ê³„ì‚°ê¸°</div>
        <div class="physical-calc-card">
            <div class="physical-result-bar">
                <span style="font-weight: 800; color: var(--blue);">ì²´ë ¥ ì¢…í•© íŒì •</span>
                <div>
                    <span id="physicalSummaryGrade" class="grade-badge">-</span>
                    <span id="physicalSummaryScore" style="font-weight: 800; margin-left: 5px; color: var(--primary);">0ì </span>
                </div>
            </div>
            
            <div class="table-wrapper">
                <table style="min-width: 400px;">
                    <thead>
                        <tr>
                            <th>ì¢…ëª©</th>
                            <th>ë“±ê¸‰ ì„ íƒ</th>
                            <th>íšë“ ì ìˆ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><b>ë‹¬ë¦¬ê¸° (3km)</b></td>
                            <td>
                                <select class="grade-select" onchange="calcPhysical()" id="runGrade">
                                    <option value="0">ì„ íƒ</option>
                                    <option value="10">íŠ¹ê¸‰ (10ì )</option>
                                    <option value="8">1ê¸‰ (8ì )</option>
                                    <option value="6">2ê¸‰ (6ì )</option>
                                    <option value="4">3ê¸‰ (4ì )</option>
                                    <option value="0">3ê¸‰ë¯¸ë§Œ (0ì )</option>
                                    <option value="0">ë¶ˆí•©ê²© (0ì )</option>
                                </select>
                            </td>
                            <td id="runScore">0</td>
                        </tr>
                        <tr>
                            <td><b>íŒ”êµ½í˜€í´ê¸°</b></td>
                            <td>
                                <select class="grade-select" onchange="calcPhysical()" id="pushupGrade">
                                    <option value="0">ì„ íƒ</option>
                                    <option value="5">íŠ¹ê¸‰ (5ì )</option>
                                    <option value="4">1ê¸‰ (4ì )</option>
                                    <option value="3">2ê¸‰ (3ì )</option>
                                    <option value="2">3ê¸‰ (2ì )</option>
                                    <option value="0">3ê¸‰ë¯¸ë§Œ (0ì )</option>
                                    <option value="0">ë¶ˆí•©ê²© (0ì )</option>
                                </select>
                            </td>
                            <td id="pushupScore">0</td>
                        </tr>
                        <tr>
                            <td><b>ìœ—ëª¸ì¼ìœ¼í‚¤ê¸°</b></td>
                            <td>
                                <select class="grade-select" onchange="calcPhysical()" id="situpGrade">
                                    <option value="0">ì„ íƒ</option>
                                    <option value="5">íŠ¹ê¸‰ (5ì )</option>
                                    <option value="4">1ê¸‰ (4ì )</option>
                                    <option value="3">2ê¸‰ (3ì )</option>
                                    <option value="2">3ê¸‰ (2ì )</option>
                                    <option value="0">3ê¸‰ë¯¸ë§Œ (0ì )</option>
                                    <option value="0">ë¶ˆí•©ê²© (0ì )</option>
                                </select>
                            </td>
                            <td id="situpScore">0</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p style="font-size: 0.75rem; color: #7f8c8d; margin-top: 10px;">* ì„¸ ì¢…ëª©ì˜ í•©ì‚° ì ìˆ˜ì— ë”°ë¼ ì²´ë ¥ ì¢…í•© ë“±ê¸‰ì´ ê²°ì •ë˜ë©°, ìƒë‹¨ í‘œì— ìë™ ë°˜ì˜ë©ë‹ˆë‹¤.</p>
        </div>

        <div class="info-card">
            <strong>ğŸ’¡ ë“±ê¸‰ ê¸°ì¤€ ì •ë³´</strong><br>
            â€¢ <b>ì²´ë ¥ì¢…í•©:</b> íŠ¹ê¸‰(20), 1ê¸‰(17~19), 2ê¸‰(14~16), 3ê¸‰(11~13), 3ê¸‰ë¯¸ë§Œ(1~10)<br>
            â€¢ <b>ì‚¬ê²©:</b> íŠ¹ê¸‰(18â†‘), 1ê¸‰(16), 2ê¸‰(14), 3ê¸‰(12)
        </div>
    </div>

    <div class="action-area">
        <button class="reset-btn" onclick="location.reload()">ğŸ”„ ì „ì²´ ì´ˆê¸°í™”</button>
    </div>
</div>

<footer>ë¬¸ì˜ : êµ­êµ°ìˆ˜ì†¡ì‚¬ë ¹ë¶€ êµìœ¡ì¥êµ</footer>

<script>
    const scoreData = {
        "ì •ì‹ ì „ë ¥": { "íŠ¹ê¸‰": 10, "1ê¸‰": 9.29, "2ê¸‰": 8.58, "3ê¸‰": 7.15, "3ê¸‰ ë¯¸ë§Œ": 5.72, "ë¶ˆí•©ê²©": 4.29 },
        "ê¸°ì´ˆì²´ë ¥": { "íŠ¹ê¸‰": 10, "1ê¸‰": 9.29, "2ê¸‰": 8.58, "3ê¸‰": 7.15, "3ê¸‰ ë¯¸ë§Œ": 5.72, "ë¶ˆí•©ê²©": 4.29 },
        "ì‚¬ê²©": { "íŠ¹ê¸‰": 10, "1ê¸‰": 9.29, "2ê¸‰": 8.58, "3ê¸‰": 7.15, "3ê¸‰ ë¯¸ë§Œ": 5.72, "ë¶ˆí•©ê²©": 4.29 },
        "í•µ ë° í™”ìƒë°©": { "íŠ¹ê¸‰": 5, "1ê¸‰": 4.65, "2ê¸‰": 4.29, "3ê¸‰": 3.58, "3ê¸‰ ë¯¸ë§Œ": 2.56, "ë¶ˆí•©ê²©": 2.15 },
        "TCCC": { "íŠ¹ê¸‰": 5, "1ê¸‰": 4.65, "2ê¸‰": 4.29, "3ê¸‰": 3.58, "3ê¸‰ ë¯¸ë§Œ": 2.56, "ë¶ˆí•©ê²©": 2.15 },
        "ì£¼íŠ¹ê¸°": { "íŠ¹ê¸‰": 30, "1ê¸‰": 27.86, "2ê¸‰": 25.72, "3ê¸‰": 21.43, "3ê¸‰ ë¯¸ë§Œ": 17.15, "ë¶ˆí•©ê²©": 12.86 }
    };

    const subjects = Object.keys(scoreData);

    function init() {
        const tbody = document.getElementById('scoreTableBody');
        tbody.innerHTML = '';
        subjects.forEach((sub, idx) => {
            const isPhysical = sub === "ê¸°ì´ˆì²´ë ¥";
            const row = document.createElement('tr');
            row.id = `row_${idx}`;
            
            row.innerHTML = `
                <td><b>${sub}</b></td>
                <td>
                    ${isPhysical ? `<span style="font-size:0.8rem; color:var(--blue)">í•˜ë‹¨ì—ì„œ ê³„ì‚°</span>` : 
                    `<input type="number" class="score-input" id="input_${idx}" placeholder="${sub==='ì‚¬ê²©'?'0-20':'0-100'}" oninput="handleInput(${idx})">`}
                </td>
                <td><span id="grade_${idx}" class="grade-badge">-</span></td>
                <td><span id="point_${idx}" class="display-point">0.00</span></td>
            `;
            tbody.appendChild(row);
        });
    }

    // ì²´ë ¥ ê³„ì‚°ê¸° ë¡œì§
    function calcPhysical() {
        const r = parseInt(document.getElementById('runGrade').value);
        const p = parseInt(document.getElementById('pushupGrade').value);
        const s = parseInt(document.getElementById('situpGrade').value);
        
        document.getElementById('runScore').innerText = r;
        document.getElementById('pushupScore').innerText = p;
        document.getElementById('situpScore').innerText = s;
        
        const sum = r + p + s;
        document.getElementById('physicalSummaryScore').innerText = sum + "ì ";
        
        let grade = "ë¶ˆí•©ê²©";
        if (sum >= 20) grade = "íŠ¹ê¸‰";
        else if (sum >= 17) grade = "1ê¸‰";
        else if (sum >= 14) grade = "2ê¸‰";
        else if (sum >= 11) grade = "3ê¸‰";
        else if (sum >= 1) grade = "3ê¸‰ ë¯¸ë§Œ";

        const badge = document.getElementById('physicalSummaryGrade');
        badge.innerText = grade;
        badge.className = `grade-badge grade-${grade.replace(" ", "")}`;

        // ìƒë‹¨ í‘œì˜ ê¸°ì´ˆì²´ë ¥(index 1)ì— ê²°ê³¼ ë°˜ì˜
        updateRow(1, grade);
    }

    function handleInput(idx) {
        const val = parseFloat(document.getElementById(`input_${idx}`).value);
        const subName = subjects[idx];
        if (isNaN(val)) { updateRow(idx, ""); return; }

        let grade = "ë¶ˆí•©ê²©";
        if (subName === "ì‚¬ê²©") {
            if (val >= 18) grade = "íŠ¹ê¸‰";
            else if (val >= 16) grade = "1ê¸‰";
            else if (val >= 14) grade = "2ê¸‰";
            else if (val >= 12) grade = "3ê¸‰";
            else if (val >= 1) grade = "3ê¸‰ ë¯¸ë§Œ";
        } else {
            if (val >= 90) grade = "íŠ¹ê¸‰";
            else if (val >= 80) grade = "1ê¸‰";
            else if (val >= 70) grade = "2ê¸‰";
            else if (val >= 60) grade = "3ê¸‰";
            else if (val > 0) grade = "3ê¸‰ ë¯¸ë§Œ";
        }
        updateRow(idx, grade);
    }

    function updateRow(idx, grade) {
        const subName = subjects[idx];
        const point = grade ? scoreData[subName][grade] : 0;
        
        const gradeEl = document.getElementById(`grade_${idx}`);
        gradeEl.innerText = grade || "-";
        gradeEl.className = `grade-badge ${grade ? 'grade-' + grade.replace(" ", "") : ""}`;
        
        document.getElementById(`point_${idx}`).innerText = point.toFixed(2);
        calculateTotal();
    }

    function calculateTotal() {
        let total = 0;
        document.querySelectorAll('.display-point').forEach(p => { total += parseFloat(p.innerText); });
        
        const totalDisplay = document.getElementById('totalDisplay');
        const progressBar = document.getElementById('progressBar');
        totalDisplay.innerText = total.toFixed(2);
        
        const color = total >= 60 ? "#2ecc71" : "#ff7f50";
        totalDisplay.style.color = color;
        progressBar.style.background = color;
        progressBar.style.width = Math.min((total / 70) * 100, 100) + "%";
    }

    window.onload = init;
</script>
</body>
</html>
