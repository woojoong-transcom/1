<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>êµìœ¡í›ˆë ¨ ì ìˆ˜ ì¢…í•© ì‹œìŠ¤í…œ</title>
    <style>
        :root { 
            --primary: #2c3e50; --accent: #27ae60; --bg-color: #f1f3f5;
            --danger: #e74c3c; --gold: #f39c12; --active-row: #f0f9ff;
            --score-low: #ff7f50; --score-high: #2ecc71; --blue: #3498db;
        }
        html, body { margin: 0; padding: 0; width: 100%; font-family: 'Pretendard', sans-serif; background-color: var(--bg-color); color: var(--primary); }
        .container { width: 95%; max-width: 720px; margin: 15px auto; background: white; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.08); overflow: hidden; }
        .top-header { padding: 25px 12px; border-bottom: 2px solid #f8f9fa; display: flex; flex-direction: column; align-items: center; }
        .title-area { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
        .top-logo { width: 50px; height: 50px; background-color: var(--primary); display: flex; align-items: center; justify-content: center; border-radius: 12px; font-size: 1.5rem; }
        h1 { margin: 0; font-size: 1.7rem; font-weight: 900; letter-spacing: -1px; }
        .result-summary { width: 100%; max-width: 400px; background: var(--primary); padding: 20px; border-radius: 16px; color: white; text-align: center; box-sizing: border-box; }
        .total-score { font-size: 3.5rem; font-weight: 900; color: var(--score-low); margin: 5px 0; line-height: 1; }
        .progress-container { width: 100%; background: rgba(255,255,255,0.2); height: 8px; border-radius: 10px; margin-top: 15px; overflow: hidden; }
        .progress-bar { width: 0%; height: 100%; background: var(--score-low); transition: width 0.5s; }
        .content-area { padding: 20px 10px; }
        .section-title { font-size: 1.1rem; font-weight: 800; margin: 25px 0 10px; display: flex; align-items: center; gap: 8px; }
        .table-wrapper { width: 100%; overflow-x: auto; border: 1px solid #eee; border-radius: 14px; }
        table { width: 100%; border-collapse: collapse; min-width: 500px; }
        th { background: #fbfbfc; padding: 12px 5px; font-size: 0.85rem; border-bottom: 2px solid #edf2f7; color: #64748b; }
        td { padding: 10px 4px; border-bottom: 1px solid #f1f5f9; text-align: center; }
        .score-input, .grade-select { height: 38px; border: 2px solid #e2e8f0; border-radius: 8px; text-align: center; font-size: 0.9rem; width: 100%; max-width: 90px; }
        .grade-badge { display: inline-block; padding: 4px 8px; border-radius: 6px; font-weight: 800; color: white; font-size: 0.75rem; background: #94a3b8; min-width: 50px; }
        .grade-íŠ¹ê¸‰ { background-color: var(--gold); }
        .grade-3ê¸‰ë¯¸ë§Œ, .grade-ë¶ˆí•©ê²© { background-color: var(--danger); }
        .grade-1ê¸‰, .grade-2ê¸‰, .grade-3ê¸‰ { background-color: #34495e; }
        .physical-calc-card { margin-top: 20px; padding: 20px; border: 2px solid var(--blue); border-radius: 16px; background-color: #f0f7ff; }
        .info-card { margin-top: 20px; padding: 15px; background: #f8fafc; border: 1px solid #e2e8f0; font-size: 0.85rem; border-radius: 14px; }
        footer { text-align: center; padding: 20px; font-size: 0.8rem; color: #94a3b8; }
    </style>
</head>
<body>

<div class="container">
    <div class="top-header">
        <div class="title-area"><div class="top-logo">ğŸ–ï¸</div><h1>êµìœ¡í›ˆë ¨ ì ìˆ˜ ì¢…í•©</h1></div>
        <div class="result-summary">
            <div style="font-size:0.85rem; opacity:0.8;">êµìœ¡í›ˆë ¨ í™˜ì‚° ì´ì </div>
            <div id="totalDisplay" class="total-score">0.00</div>
            <div style="font-size:0.8rem; opacity:0.7;">/ 70.00 ì </div>
            <div class="progress-container"><div id="progressBar" class="progress-bar"></div></div>
        </div>
    </div>

    <div class="content-area">
        <div class="section-title">ğŸ“Š ê³¼ëª©ë³„ ì ìˆ˜ ì…ë ¥</div>
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr><th>ê³¼ëª©ëª…</th><th>ì ìˆ˜ ì…ë ¥</th><th>ë“±ê¸‰</th><th>í™˜ì‚°ì ìˆ˜</th></tr>
                </thead>
                <tbody id="scoreTableBody"></tbody>
            </table>
        </div>

        <div class="section-title">ğŸƒ ê¸°ì´ˆì²´ë ¥ ë“±ê¸‰ ì„ íƒ</div>
        <div class="physical-calc-card">
            <div style="display:flex; justify-content:space-between; margin-bottom:15px; font-weight:800;">
                <span style="color:var(--blue);">ì²´ë ¥ ì¢…í•© íŒì •</span>
                <span id="physGradeDisplay" class="grade-badge">-</span>
            </div>
            <div class="table-wrapper">
                <table style="min-width: 100%;">
                    <thead><tr><th>ì¢…ëª©</th><th>ë“±ê¸‰</th><th>ì ìˆ˜</th></tr></thead>
                    <tbody>
                        <tr><td>ë‹¬ë¦¬ê¸°</td><td><select id="runG" class="grade-select" onchange="calcPhys()"><option value="0">ì„ íƒ</option><option value="10">íŠ¹ê¸‰(10)</option><option value="8">1ê¸‰(8)</option><option value="6">2ê¸‰(6)</option><option value="4">3ê¸‰(4)</option><option value="0">3ê¸‰ë¯¸ë§Œ(0)</option></select></td><td id="runS">0</td></tr>
                        <tr><td>íŒ”êµ½í˜€í´ê¸°</td><td><select id="pushG" class="grade-select" onchange="calcPhys()"><option value="0">ì„ íƒ</option><option value="5">íŠ¹ê¸‰(5)</option><option value="4">1ê¸‰(4)</option><option value="3">2ê¸‰(3)</option><option value="2">3ê¸‰(2)</option><option value="0">3ê¸‰ë¯¸ë§Œ(0)</option></select></td><td id="pushS">0</td></tr>
                        <tr><td>ìœ—ëª¸ì¼ìœ¼í‚¤ê¸°</td><td><select id="sitG" class="grade-select" onchange="calcPhys()"><option value="0">ì„ íƒ</option><option value="5">íŠ¹ê¸‰(5)</option><option value="4">1ê¸‰(4)</option><option value="3">2ê¸‰(3)</option><option value="2">3ê¸‰(2)</option><option value="0">3ê¸‰ë¯¸ë§Œ(0)</option></select></td><td id="sitS">0</td></tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align:right; margin-top:10px; font-weight:bold;">í•©ê³„: <span id="physSum">0</span>ì </div>
        </div>

        <div class="info-card">
            <strong>ğŸ“‹ ì²´ë ¥ ì¢…í•© ë“±ê¸‰ ê¸°ì¤€ (ë³€ê²½ ë°˜ì˜)</strong><br>
            â€¢ íŠ¹ê¸‰: 20ì  | 1ê¸‰: 16~19ì  | 2ê¸‰: 12~15ì  | 3ê¸‰: 8~11ì <br>
            â€¢ 3ê¸‰ ë¯¸ë§Œ: 1~7ì  | ë¶ˆí•©ê²©: 0ì 
        </div>
    </div>
    <footer>ë¬¸ì˜ : êµ­êµ°ìˆ˜ì†¡ì‚¬ë ¹ë¶€ êµìœ¡ì¥êµ</footer>
</div>

<script>
    const scoreData = {
        "ì •ì‹ ì „ë ¥": { "íŠ¹ê¸‰": 10, "1ê¸‰": 9.29, "2ê¸‰": 8.58, "3ê¸‰": 7.15, "3ê¸‰ ë¯¸ë§Œ": 5.72, "ë¶ˆí•©ê²©": 4.29 },
        "ê¸°ì´ˆì²´ë ¥": { "íŠ¹ê¸‰": 10, "1ê¸‰": 9.29, "2ê¸‰": 8.58, "3ê¸‰": 7.15, "3ê¸‰ ë¯¸ë§Œ": 5.72, "ë¶ˆí•©ê²©": 4.29 },
        "ì‚¬ê²©": { "íŠ¹ê¸‰": 10, "1ê¸‰": 9.29, "2ê¸‰": 8.58, "3ê¸‰": 7.15, "3ê¸‰ ë¯¸ë§Œ": 5.72, "ë¶ˆí•©ê²©": 4.29 },
        "í•µ ë° í™”ìƒë°©": { "íŠ¹ê¸‰": 5, "1ê¸‰": 4.65, "2ê¸‰": 4.29, "3ê¸‰": 3.58, "3ê¸‰ ë¯¸ë§Œ": 2.56, "ë¶ˆí•©ê²©": 2.15 },
        "TCCC": { "íŠ¹ê¸‰": 5, "1ê¸‰": 4.65, "2ê¸‰": 4.29, "3ê¸‰": 3.58, "3ê¸‰ ë¯¸ë§Œ": 2.56, "ë¶ˆí•©ê²©": 2.15 },
        "ì£¼íŠ¹ê¸°": { "íŠ¹ê¸‰": 30, "1ê¸‰": 27.86, "2ê¸‰": 25.72, "3ê¸‰": 21.43, "3ê¸‰ ë¯¸ë§Œ": 17.15, "ë¶ˆí•©ê²©": 12.86 }
    };

    const subjects = Object.keys(scoreData);

    function init() {
        const tbody = document.getElementById('scoreTableBody');
        tbody.innerHTML = '';
        subjects.forEach((sub, idx) => {
            const isPhys = sub === "ê¸°ì´ˆì²´ë ¥";
            tbody.innerHTML += `
                <tr id="row_${idx}">
                    <td><b>${sub}</b></td>
                    <td>${isPhys ? `<small style="color:var(--blue)">í•˜ë‹¨ì„ íƒ</small>` : `<input type="number" class="score-input" id="input_${idx}" oninput="handleInput(${idx})" placeholder="${sub==='ì‚¬ê²©'?'0-20':'0-100'}">`}</td>
                    <td><span id="grade_${idx}" class="grade-badge">-</span></td>
                    <td><span id="point_${idx}" class="display-point">0.00</span></td>
                </tr>`;
        });
    }

    function calcPhys() {
        const r = parseInt(document.getElementById('runG').value);
        const p = parseInt(document.getElementById('pushG').value);
        const s = parseInt(document.getElementById('sitG').value);
        document.getElementById('runS').innerText = r;
        document.getElementById('pushS').innerText = p;
        document.getElementById('sitS').innerText = s;
        
        const sum = r + p + s;
        document.getElementById('physSum').innerText = sum;
        
        let grade = "ë¶ˆí•©ê²©";
        // ìš”ì²­í•˜ì‹  ë³€ê²½ëœ êµ¬ê°„ ë°˜ì˜
        if (sum >= 20) grade = "íŠ¹ê¸‰";
        else if (sum >= 16) grade = "1ê¸‰";
        else if (sum >= 12) grade = "2ê¸‰";
        else if (sum >= 8) grade = "3ê¸‰";
        else if (sum >= 1) grade = "3ê¸‰ ë¯¸ë§Œ";

        const disp = document.getElementById('physGradeDisplay');
        disp.innerText = grade;
        disp.className = `grade-badge grade-${grade.replace(" ", "")}`;
        
        updateRow(1, grade); // ê¸°ì´ˆì²´ë ¥ í–‰ ì—…ë°ì´íŠ¸
    }

    function handleInput(idx) {
        const val = parseFloat(document.getElementById(`input_${idx}`).value);
        const sub = subjects[idx];
        if (isNaN(val)) { updateRow(idx, ""); return; }

        let grade = "ë¶ˆí•©ê²©";
        // ë“±ê¸‰ íŒì • ë¡œì§ ê²€í†  ë° ìˆ˜ì • (êµ¬ê°„ ëª…í™•í™”)
        if (sub === "ì‚¬ê²©") {
            if (val >= 18) grade = "íŠ¹ê¸‰";
            else if (val >= 16) grade = "1ê¸‰";
            else if (val >= 14) grade = "2ê¸‰";
            else if (val >= 12) grade = "3ê¸‰";
            else if (val >= 1) grade = "3ê¸‰ ë¯¸ë§Œ";
        } else {
            // ì¼ë°˜ ê³¼ëª© (ì •ì‹ ì „ë ¥, í™”ìƒë°©, TCCC, ì£¼íŠ¹ê¸°)
            if (val >= 90) grade = "íŠ¹ê¸‰";
            else if (val >= 80) grade = "1ê¸‰";
            else if (val >= 70) grade = "2ê¸‰";
            else if (val >= 60) grade = "3ê¸‰";
            else if (val > 0) grade = "3ê¸‰ ë¯¸ë§Œ";
        }
        updateRow(idx, grade);
    }

    function updateRow(idx, grade) {
        const point = grade ? scoreData[subjects[idx]][grade] : 0;
        const gradeEl = document.getElementById(`grade_${idx}`);
        gradeEl.innerText = grade || "-";
        gradeEl.className = `grade-badge ${grade ? 'grade-' + grade.replace(" ", "") : ""}`;
        document.getElementById(`point_${idx}`).innerText = point.toFixed(2);
        calculateTotal();
    }

    function calculateTotal() {
        let total = 0;
        document.querySelectorAll('.display-point').forEach(p => { total += parseFloat(p.innerText); });
        const totalDisp = document.getElementById('totalDisplay');
        totalDisp.innerText = total.toFixed(2);
        const color = total >= 60 ? "#2ecc71" : "#ff7f50";
        totalDisp.style.color = color;
        document.getElementById('progressBar').style.width = (total / 70 * 100) + "%";
        document.getElementById('progressBar').style.background = color;
    }

    window.onload = init;
</script>
</body>
</html>
